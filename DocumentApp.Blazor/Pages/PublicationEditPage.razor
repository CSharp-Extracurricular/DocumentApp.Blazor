@using System.Net.Http
@inject HttpClient Http
@using System.Net.Http.Json
@using System.Threading.Tasks
@using DocumentApp.DTO
@using DocumentApp.Domain
@inject NavigationManager _nav

@page "/edit/{currentPublicationIdString}"

<PageTitle>Редактирование публикации</PageTitle>



@code {
    [Parameter]
    public string currentPublicationIdString { get; set; }

    public Guid publicationGuid;

    protected override async Task OnInitializedAsync()
    {
        Guid.TryParse(currentPublicationIdString, out publicationGuid);
    }

    public async Task EditPublication(Publication publication)
    {
        await Http.PutAsJsonAsync($"https://localhost:7204/api/Edit/{publication.Id.ToString()}", DtoConverter.Convert(publication));
    }
}
